# ğŸ’° Sistema di Punteggio per Raccolta Rifiuti

![Version](https://img.shields.io/badge/Versione-1.0.0-brightgreen) ![Engine](https://img.shields.io/badge/Engine-Godot_4.x-blue) ![Status](https://img.shields.io/badge/Status-Attivo-success)

**Progetto:** GreenPixel - Platform Educativo sulla Raccolta Differenziata

> ğŸ’¡ **Concetto Chiave:** Trasformare un'azione educativa come la raccolta differenziata in un'esperienza di gioco coinvolgente e gratificante, premiando il giocatore per l'esplorazione, la pulizia e l'apprendimento delle corrette pratiche di smaltimento.

---

### ğŸ“š Indice

*   [ğŸ¯ Obiettivo della FunzionalitÃ ](#-obiettivo-della-funzionalitÃ )
*   [ğŸ† Sistema di Assegnazione Punti](#-sistema-di-assegnazione-punti)
*   [ğŸ”„ Flusso di Funzionamento](#-flusso-di-funzionamento)
*   [ğŸ–¥ï¸ Interfaccia Utente](#ï¸-interfaccia-utente)
*   [âœ… Test Effettuati](#-test-effettuati)
*   [ğŸš€ Estensioni Future](#-estensioni-future)
*   [âš–ï¸ Bilanciamento del Gameplay](#ï¸-bilanciamento-del-gameplay)

---

## ğŸ¯ Obiettivo della FunzionalitÃ 

Il Sistema di Punteggio Ã¨ il motore principale che guida l'esperienza di gioco in GreenPixel. Ãˆ progettato per raggiungere quattro obiettivi fondamentali:

| Obiettivo | Descrizione | Impatto sul Gameplay |
|:---|:---|:---|
| **ğŸ” Incentivare la Raccolta** | Ogni sacco raccolto premia con **+10 punti**. | Spinge il giocatore a esplorare ogni angolo del livello. |
| **â™»ï¸ Premiare lo Smaltimento Corretto** | Il deposito nel bidone giusto assegna **+20 punti**. | Insegna l'importanza della differenziazione in modo attivo. |
| **ğŸ® Creare Engagement** | Un punteggio che cresce crea un ciclo gratificante. | Motiva il giocatore a superare il proprio record. |
| **ğŸ§  Educare Attraverso il Gameplay** | L'associazione colore-materiale Ã¨ appresa naturalmente. | Il giocatore impara divertendosi, senza lezioni noiose. |

---

## ğŸ† Sistema di Assegnazione Punti

Il sistema Ã¨ basato su due azioni principali, ciascuna con un suo premio. La logica Ã¨ semplice: **smaltire correttamente vale il doppio della semplice raccolta.**

### Tabella Punti Completa

| Azione | ğŸ… Punti | Condizione | Effetto sulle Variabili |
|:---|:---:|:---|:---|
| Raccogliere sacco **ROSSO** | `+10` | Toccare il sacco | `NumeroR += 1`, `Score += 10` |
| Raccogliere sacco **GIALLO** | `+10` | Toccare il sacco | `NumeroG += 1`, `Score += 10` |
| Raccogliere sacco **BLU** | `+10` | Toccare il sacco | `NumeroB += 1`, `Score += 10` |
| Depositare nel bidone **ROSSO** | `+20` | Avere `NumeroR > 0` | `NumeroR -= 1`, `BidoneR += 1`, `Score += 20` |
| Depositare nel bidone **GIALLO** | `+20` | Avere `NumeroG > 0` | `NumeroG -= 1`, `BidoneG += 1`, `Score += 20` |
| Depositare nel bidone **BLU** | `+20` | Avere `NumeroB > 0` | `NumeroB -= 1`, `BidoneB += 1`, `Score += 20` |

### Formula di Calcolo

```python
PUNTEGGIO_TOTALE = (Sacchi_Raccolti * 10) + (Depositi_Corretti * 20)
```

### Esempio Pratico

> **Scenario:** Una partita in cui il giocatore raccoglie 5 sacchi rossi e 3 sacchi blu, depositandoli tutti correttamente.
>
> ---
> **ğŸ“¦ FASE RACCOLTA:**
> *   5 sacchi rossi raccolti â†’ `5 Ã— 10 = 50 punti`
> *   3 sacchi blu raccolti â†’ `3 Ã— 10 = 30 punti`
> *   **Subtotale Raccolta:** `80 punti`
>
> **â™»ï¸ FASE DEPOSITO:**
> *   5 sacchi nel bidone rosso â†’ `5 Ã— 20 = 100 punti`
> *   3 sacchi nel bidone blu â†’ `3 Ã— 20 = 60 punti`
> *   **Subtotale Deposito:** `160 punti`
>
> ---
> **ğŸ† PUNTEGGIO FINALE: `240 punti`**

---

## ğŸ”„ Flusso di Funzionamento

Il sistema si basa su due flussi principali: la raccolta e il deposito. Entrambi sono gestiti da aree di trigger (`Area2D`) che rilevano l'ingresso del giocatore.

### Flusso di Raccolta Sacco

```mermaid
graph TD
    A[Player tocca il sacco] --> B{Ãˆ nel gruppo 'player'?};
    B -- No --> C[Ignora];
    B -- SÃ¬ --> D[Numero[Colore] += 1];
    D --> E[Score += 10];
    E --> F[Sacco rimosso (queue_free)];
    F --> G[UI aggiornata];
```

### Flusso di Deposito nel Bidone

```mermaid
graph TD
    A[Player entra nel bidone] --> B{Ãˆ nel gruppo 'player'?};
    B -- No --> C[Ignora];
    B -- SÃ¬ --> D{Ha giÃ  depositato in questo ingresso?};
    D -- SÃ¬ --> C;
    D -- No --> E{Ha sacchi del colore?};
    E -- No --> F[Assegna 0 punti, ignora];
    E -- SÃ¬ --> G[Numero[Colore] -= 1];
    G --> H[Bidone[Colore] += 1];
    H --> I[Score += 20];
    I --> J[Flag ha_depositato = true];
    J --> K[UI aggiornata];
    
    subgraph "Reset"
        L[Player esce dal bidone] --> M[ha_depositato = false];
    end
```

---

## ğŸ–¥ï¸ Interfaccia Utente (HUD)

L'HUD Ã¨ progettato per essere pulito, informativo e sempre visibile, fornendo al giocatore tutte le informazioni necessarie in tempo reale.

### Layout HUD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TIMER: 02:35            SCORE: 240                    SACCHI: ğŸ”´ 2  ğŸŸ¡ 1  ğŸ”µ 0     â”‚
â”‚                                                         BIDONI: ğŸ”´ 5  ğŸŸ¡ 3  ğŸ”µ 2    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚                                                                                      â”‚          
â”‚                              AREA DI GIOCO                                           â”‚
â”‚                                                                                      â”‚
â”‚                                                                                      â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Elementi UI

| Elemento | Posizione | Formato | Aggiornamento |
|:---|:---|:---|:---|
| **â±ï¸ Timer** | Centro | `TIMER: MM:SS` | Ogni secondo |
| **ğŸ’° Score** | Alto a sinistra | `SCORE: [numero]` | Ogni frame |
| **ğŸ‘œ Contatori Sacchi** | Alto a destra | `Icona + numero` | Ogni frame |
| **ğŸ—‘ï¸ Contatori Bidoni** | Alto a destra | `Icona + numero` | Ogni frame |

---

## âœ… Test Effettuati

Ogni aspetto della funzionalitÃ  Ã¨ stato testato per garantire un'esperienza fluida e priva di bug.

| Test | Descrizione | Risultato |
|:---|:---|:---:|
| Raccolta sacchi | Verifica assegnazione +10 punti per ogni colore | âœ… Superato |
| Deposito corretto | Verifica assegnazione +20 punti per ogni colore | âœ… Superato |
| Passaggio senza sacchi | Nessun punto passando sul bidone vuoti | âœ… Superato |
| Anti-exploit | Deposito unico per ingresso nel bidone | âœ… Superato |
| Reset uscita | PossibilitÃ  di depositare nuovamente dopo l'uscita | âœ… Superato |
| Sincronizzazione UI | Score e contatori sempre aggiornati | âœ… Superato |
| Performance | Nessun impatto su FPS (stabile a 60) | âœ… Superato |

---

## ğŸš€ Estensioni Future

Il sistema Ã¨ progettato per essere estensibile. Ecco alcune idee per future implementazioni, suddivise per prioritÃ .

| FunzionalitÃ  | Descrizione | PrioritÃ  | Sforzo |
|:---|:---|:---:|:---:|
| **ğŸ”Š Feedback Audio** | Suoni per raccolta e deposito con toni diversi per colore | ğŸ”´ Alta | ğŸŸ¡ Medio |
| **âœ¨ Animazione Punti** | Testo "+10" / "+20" fluttuante sopra il personaggio | ğŸ”´ Alta | ğŸŸ¡ Medio |
| **ğŸ”¥ Sistema Combo** | Moltiplicatore per depositi consecutivi (Ã—2, Ã—3) | ğŸŸ¡ Media | ğŸŸ¡ Medio |
| **ğŸ† Classifiche Locali** | Salvataggio dei migliori 10 punteggi in locale | ğŸŸ¡ Media | ğŸŸ¢ Basso |
| **ğŸ’¥ PenalitÃ  Errore** | -10 punti per deposito nel bidone sbagliato | ğŸŸ¢ Bassa | ğŸŸ¢ Basso |
| **ğŸ’ª Power-up** | Oggetti bonus che raddoppiano i punti temporaneamente | ğŸŸ¢ Bassa | ğŸ”´ Alto |

---

<p align="center"><strong>Documento Tecnico - GreenPixel v1.0</strong></p>
<p align="center">Made with â¤ï¸ for a cleaner world</p>
